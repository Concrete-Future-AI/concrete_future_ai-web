# 智采云权限管理系统 - 测试清单

## 测试目标
验证三种用户角色（采购总监、采购专员、业务申请人）的权限管理是否正确实施

## 🎭 测试角色切换

在顶部角色选择器中切换不同角色，观察界面变化：

- [ ] 采购总监 (王总)
- [ ] 采购专员 (李明)
- [ ] 业务申请人 (张悦)

## 📋 测试检查项

### 1. 导航菜单权限测试

#### 采购总监 - 应显示所有菜单项
- [ ] 工作台 ✅
- [ ] AI指挥中心 ✅ (带AI徽章，紫色高亮)
- [ ] 供应商360° ✅
- [ ] 采办到支付 ✅
- [ ] 合同管理 ✅
- [ ] 设置 ✅

#### 采购专员 - 应隐藏设置菜单
- [ ] 工作台 ✅
- [ ] AI指挥中心 ✅
- [ ] 供应商360° ✅
- [ ] 采办到支付 ✅
- [ ] 合同管理 ✅
- [ ] 设置 ❌ (不显示)

#### 业务申请人 - 仅显示基础菜单
- [ ] 工作台 ✅
- [ ] AI指挥中心 ❌ (不显示)
- [ ] 供应商360° ❌ (不显示)
- [ ] 采办到支付 ✅
- [ ] 合同管理 ❌ (不显示)
- [ ] 设置 ❌ (不显示)

### 2. AI指挥中心权限测试

#### 采购总监 - 完整访问
- [ ] 进入AI指挥中心
- [ ] 顶部显示"完整权限"徽章
- [ ] 总览Tab ✅
- [ ] 智能预测Tab ✅ 显示完整内容
- [ ] 智能推荐Tab ✅ 显示完整内容
- [ ] 实时监控Tab ✅ 显示完整内容
- [ ] 合同审查Tab ✅ 显示完整内容

#### 采购专员 - 标准访问
- [ ] 进入AI指挥中心
- [ ] 顶部显示"标准权限"徽章
- [ ] 总览Tab ✅
- [ ] 智能预测Tab ✅ 显示完整内容
- [ ] 智能推荐Tab ✅ 显示完整内容
- [ ] 实时监控Tab ✅ 显示完整内容
- [ ] 合同审查Tab ✅ 显示完整内容

#### 业务申请人 - 无访问权限
- [ ] AI指挥中心菜单不显示
- [ ] 无法访问AI指挥中心页面

### 3. AI助手权限测试

#### 采购总监
- [ ] 右下角显示AI助手悬浮按钮
- [ ] 点击打开AI助手面板
- [ ] 欢迎消息："您好，王总！我是您的AI采购助手..."
- [ ] 快捷建议：分析趋势、推荐供应商、识别风险、优化策略

#### 采购专员
- [ ] 右下角显示AI助手悬浮按钮
- [ ] 点击打开AI助手面板
- [ ] 欢迎消息："您好，李明！我是您的AI工作助手..."
- [ ] 快捷建议：待办任务、推荐供应商、检查异常、优化流程

#### 业务申请人
- [ ] 右下角显示AI助手悬浮按钮
- [ ] 点击打开AI助手面板
- [ ] 欢迎消息："您好，张悦！我是您的AI采购顾问..."
- [ ] 快捷建议：提交申请、查询进度、寻找供应商、预估价格

### 4. 设置页面权限信息测试

#### 采购总监
- [ ] 进入"系统设置"
- [ ] 查看"权限信息"Tab
- [ ] 角色显示：采购总监
- [ ] AI访问级别：完整权限
- [ ] 数据可见性：全局
- [ ] 功能模块：全部打勾 ✅
- [ ] 核心AI功能：全部打勾 ✅
- [ ] 高级AI功能：全部打勾 ✅
- [ ] 数据访问：全部打勾 ✅
- [ ] 采购流程操作：全部打勾 ✅
- [ ] 供应商管理：全部打勾 ✅
- [ ] 系统管理：全部打勾 ✅

#### 采购专员
- [ ] 进入"系统设置"
- [ ] 查看"权限信息"Tab
- [ ] 角色显示：采购专员
- [ ] AI访问级别：标准权限
- [ ] 数据可见性：部门级
- [ ] 功能模块：设置显示 ❌
- [ ] AI高级分析：显示 ❌
- [ ] AI策略优化：显示 ❌
- [ ] 查看财务数据：显示 ❌
- [ ] 查看战略数据：显示 ❌
- [ ] 审批采购：显示 ❌
- [ ] 取消采购：显示 ❌
- [ ] 封禁供应商：显示 ❌
- [ ] 签署合同：显示 ❌
- [ ] 终止合同：显示 ❌
- [ ] 系统管理操作：显示 ❌

#### 业务申请人
- [ ] 无法访问"系统设置"（菜单不显示）

### 5. 侧边栏角色信息测试

#### 所有角色
- [ ] 头像显示正确首字母
- [ ] 角色名称正确显示：
  - 采购总监：王总 - 采购总监
  - 采购专员：李明 - 采购专员
  - 业务申请人：张悦 - 业务申请人

## 🔍 详细功能测试

### AI功能分级测试

#### 测试场景1：智能预测
- [ ] 总监：可以看到所有预测内容
- [ ] 专员：可以看到所有预测内容
- [ ] 申请人：无法访问（AI指挥中心不可见）

#### 测试场景2：智能推荐
- [ ] 总监：可以看到全局推荐
- [ ] 专员：可以看到部门级推荐
- [ ] 申请人：在工作台可以看到个人相关推荐

#### 测试场景3：实时监控
- [ ] 总监：可以看到全局监控
- [ ] 专员：可以看到部门范围监控
- [ ] 申请人：无法访问

#### 测试场景4：合同审查
- [ ] 总监：可以完整使用
- [ ] 专员：可以完整使用
- [ ] 申请人：无法访问

### 数据可见性测试

#### 测试场景1：供应商数据
- [ ] 总监：看到所有供应商（全局视图）
- [ ] 专员：看到所有供应商（部门级别）
- [ ] 申请人：无法访问供应商模块

#### 测试场景2：财务数据
- [ ] 总监：Dashboard显示财务相关KPI
- [ ] 专员：Dashboard不显示敏感财务数据
- [ ] 申请人：仅看到个人申请相关信息

#### 测试场景3：订单数据
- [ ] 总监：查看所有订单
- [ ] 专员：查看所有订单
- [ ] 申请人：仅查看自己的订单

## ⚠️ 权限提示测试

#### 当用户尝试访问受限功能时
- [ ] 显示友好的权限提示信息
- [ ] 提示中包含当前角色信息
- [ ] 提示中说明需要的权限级别

## 🎨 UI/UX测试

### 视觉反馈
- [ ] AI指挥中心菜单有特殊高亮（紫色渐变）
- [ ] 权限徽章显示正确（完整权限/标准权限/基础权限）
- [ ] 无权限的功能不显示（而非灰显）
- [ ] 权限信息页面使用绿色勾号和灰色叉号清晰标识

### 交互体验
- [ ] 角色切换后界面实时更新
- [ ] 导航菜单项根据权限动态显示
- [ ] AI助手根据角色提供差异化建议
- [ ] 权限信息页面清晰易懂

## 📊 测试结果记录

### 采购总监测试
- 测试时间：______
- 通过项：______ / ______
- 问题记录：

### 采购专员测试
- 测试时间：______
- 通过项：______ / ______
- 问题记录：

### 业务申请人测试
- 测试时间：______
- 通过项：______ / ______
- 问题记录：

## ✅ 验收标准

系统应满足以下标准：

1. **功能完整性**
   - [ ] 所有三种角色的权限配置正确
   - [ ] AI功能分级管理生效
   - [ ] 数据访问权限正确实施

2. **安全性**
   - [ ] 无权限功能完全不可见
   - [ ] 敏感数据受到保护
   - [ ] 关键操作需要相应权限

3. **用户体验**
   - [ ] 角色切换流畅
   - [ ] 权限提示友好
   - [ ] 界面响应迅速

4. **可维护性**
   - [ ] 权限配置集中管理
   - [ ] 代码结构清晰
   - [ ] 文档完善

## 🐛 已知问题

记录测试中发现的问题：

1. 
2. 
3. 

## 📝 测试总结

- 总体通过率：______%
- 主要发现：
- 改进建议：
- 验收结论：[ ] 通过 [ ] 不通过

---

**测试人员签名：**__________ **日期：**__________
