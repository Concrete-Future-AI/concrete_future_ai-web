# 智采云权限系统快速测试指南

## 🧪 测试场景

### 场景1: 切换角色查看导航菜单
**测试步骤:**
1. 启动应用，默认为"采购总监"角色
2. 观察左侧导航菜单，应该看到所有6个菜单项:
   - ✓ 工作台
   - ✓ AI指挥中心 (紫色高亮)
   - ✓ 供应商360°
   - ✓ 采办到支付
   - ✓ 合同管理
   - ✓ 设置

3. 切换到"采购专员"角色
4. 观察导航菜单，应该看到5个菜单项:
   - ✓ 工作台
   - ✓ AI指挥中心 (紫色高亮)
   - ✓ 供应商360°
   - ✓ 采办到支付
   - ✓ 合同管理
   - ✗ 设置 (隐藏)

5. 切换到"业务申请人"角色
6. 观察导航菜单，应该只看到2个菜单项:
   - ✓ 工作台
   - ✓ 采办到支付
   - ✗ AI指挥中心 (隐藏)
   - ✗ 供应商360° (隐藏)
   - ✗ 合同管理 (隐藏)
   - ✗ 设置 (隐藏)

**预期结果:**
- 导航菜单根据角色动态调整
- 无权限的菜单项完全不显示
- 界面简洁，不会让用户看到无法使用的功能

---

### 场景2: AI指挥中心权限测试

#### 测试2.1: 采购总监 (完整AI权限)
**测试步骤:**
1. 角色选择"采购总监"
2. 点击"AI指挥中心"菜单
3. 观察顶部权限标识，应显示"🌟 完整AI权限"
4. 观察Tab标签，应该看到所有5个标签:
   - ✓ 总览
   - ✓ 智能预测
   - ✓ 智能推荐
   - ✓ 实时监控
   - ✓ 合同审查

**预期结果:**
- 显示完整AI权限标识
- 所有AI功能Tab可见且可用
- 可以正常查看每个AI功能

#### 测试2.2: 采购专员 (标准AI权限)
**测试步骤:**
1. 角色切换到"采购专员"
2. 点击"AI指挥中心"菜单
3. 观察顶部权限标识，应显示"⚡ 标准AI权限"
4. 观察Tab标签，应该看到所有5个标签
5. 点击每个标签，确认功能可用

**预期结果:**
- 显示标准AI权限标识
- 所有核心AI功能Tab可见且可用
- 功能正常工作

#### 测试2.3: 业务申请人 (无AI中心访问)
**测试步骤:**
1. 角色切换到"业务申请人"
2. 观察左侧导航菜单
3. 确认"AI指挥中心"菜单项不显示

**预期结果:**
- AI指挥中心菜单项完全隐藏
- 申请人无法访问AI指挥中心

---

### 场景3: AI助手权限测试

#### 测试3.1: 采购总监和专员 (有AI助手权限)
**测试步骤:**
1. 角色选择"采购总监"或"采购专员"
2. 观察右下角，应该看到紫色的AI助手悬浮按钮
3. 点击按钮，AI助手面板弹出
4. 输入问题并测试功能

**预期结果:**
- AI助手按钮显示
- AI助手功能正常工作
- 可以进行对话交互

#### 测试3.2: 业务申请人 (有AI助手权限)
**测试步骤:**
1. 角色切换到"业务申请人"
2. 观察右下角，应该看到AI助手悬浮按钮
3. 点击并测试功能

**预期结果:**
- 申请人也有AI助手访问权限
- AI助手提供基础建议和帮助

---

### 场景4: 设置页面权限查看

#### 测试4.1: 采购总监查看完整权限
**测试步骤:**
1. 角色选择"采购总监"
2. 点击"设置"菜单
3. 点击"权限管理"标签
4. 查看权限信息卡片

**预期内容:**
- 角色显示: "采购总监"
- 角色描述: "战略决策者 - 全局视野，完整AI能力"
- AI访问级别: "完整" (紫色标识)
- 数据可见性: "全局"
- 功能模块: 6/6 全部打勾 ✓
- AI功能: 13/13 全部打勾 ✓
- 数据访问: 9/9 全部打勾 ✓
- 操作权限: 16/16 全部打勾 ✓
- AI功能推荐: 4条推荐显示

#### 测试4.2: 采购专员查看标准权限
**测试步骤:**
1. 角色切换到"采购专员"
2. 点击"设置"菜单
3. 点击"权限管理"标签
4. 查看权限信息

**预期内容:**
- 角色显示: "采购专员"
- 角色描述: "执行专家 - 业务操作，标准AI支持"
- AI访问级别: "标准"
- 数据可见性: "部门"
- 功能模块: 5/6 (系统设置为 ✗)
- AI功能: 9/13 (部分高级功能为 ✗)
- 数据访问: 7/9 (财务和战略数据为 ✗)
- 操作权限: 9/16 (审批等关键操作为 ✗)

#### 测试4.3: 业务申请人尝试访问设置
**测试步骤:**
1. 角色切换到"业务申请人"
2. 观察导航菜单

**预期结果:**
- "设置"菜单项不显示
- 申请人无法访问设置页面

---

### 场景5: 权限提示消息测试

**测试步骤:**
1. 手动修改URL或通过代码尝试访问无权限的模块
2. 观察权限提示

**预期结果:**
- 显示友好的权限不足提示卡片
- 包含锁图标
- 说明当前角色和所需权限
- 提示联系管理员

---

## ✅ 测试检查清单

### 导航菜单权限
- [ ] 总监看到6个菜单项
- [ ] 专员看到5个菜单项(无设置)
- [ ] 申请人看到2个菜单项(仅工作台和P2P)

### AI功能权限
- [ ] 总监可访问所有AI功能
- [ ] 专员可访问核心AI功能
- [ ] 申请人无法访问AI指挥中心
- [ ] AI助手对所有角色可见

### 权限信息展示
- [ ] 设置页面显示完整权限信息
- [ ] 权限状态使用✓和✗正确标识
- [ ] AI访问级别正确显示
- [ ] 数据可见性正确显示
- [ ] AI功能推荐根据角色显示

### 用户体验
- [ ] 无权限功能不显示，不占用空间
- [ ] 角色信息在侧边栏显示
- [ ] AI访问级别在AI中心显示
- [ ] 权限不足时有友好提示

---

## 🐛 已知限制

1. **演示模式**: 当前是演示版本，角色切换是前端模拟，实际应用中应该从后端获取用户角色和权限
2. **静态配置**: 权限配置是静态的，实际应用中应该支持动态配置
3. **无后端验证**: 前端权限控制需要配合后端API权限验证

---

## 📝 测试报告模板

**测试日期**: _________
**测试人员**: _________

| 测试场景 | 状态 | 备注 |
|---------|------|------|
| 场景1: 导航菜单切换 | ⬜ 通过 ⬜ 失败 | |
| 场景2.1: 总监AI权限 | ⬜ 通过 ⬜ 失败 | |
| 场景2.2: 专员AI权限 | ⬜ 通过 ⬜ 失败 | |
| 场景2.3: 申请人无AI中心 | ⬜ 通过 ⬜ 失败 | |
| 场景3.1: 总监/专员AI助手 | ⬜ 通过 ⬜ 失败 | |
| 场景3.2: 申请人AI助手 | ⬜ 通过 ⬜ 失败 | |
| 场景4.1: 总监权限查看 | ⬜ 通过 ⬜ 失败 | |
| 场景4.2: 专员权限查看 | ⬜ 通过 ⬜ 失败 | |
| 场景4.3: 申请人设置访问 | ⬜ 通过 ⬜ 失败 | |
| 场景5: 权限提示消息 | ⬜ 通过 ⬜ 失败 | |

**总体评价**: _________
**发现的问题**: _________
**改进建议**: _________
